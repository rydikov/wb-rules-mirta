{
  "connections": {
    // Строка подключения находится в файле .env.local
    "default": "${WB_CONN_SECRET}"
  },
  "deploy": {
    // Наборы правил копирования файлов: из папки проекта в папку контроллера.
    "mappings": {
      // Стандартный набор для wb-rules под Duktape на ES5.
      "wb-rules-es5": [
        // Копирование модулей.
        {
          "from": "dist/es5/wb-rules-modules/",
          "to": "/mnt/data/etc/wb-rules-modules/",
          // Очистить целевое расположение от других файлов.
          "cleanup": true
        },
        // Копирование скриптов.
        {
          "from": "dist/es5/wb-rules/",
          "to": "/mnt/data/etc/wb-rules/",
          // Очистить целевое расположение от других файлов.
          "cleanup": true,
          // Предотвратить очистку для указанных файлов, они останутся.
          // Можно использовать wildcard.
          "protect": [
            "alarms.conf"
          ]
        }
      ],
      // Расширенный набор: добавляем ещё и шаблоны устройств.
      "templates": [
        {
          "from": "templates/",
          "to": "/etc/wb-mqtt-serial.conf.d/templates/",
          // Существующие шаблоны не удаляем.
          "cleanup": false
        }
      ]
    },
    // Профили деплоя.
    "profiles": {
      // Встроенный профиль (здесь переопределён явно)
      "default": {
        "connection": "default",
        "mappings": [
          "wb-rules-es5"
        ]
      }
    }
  }
}
